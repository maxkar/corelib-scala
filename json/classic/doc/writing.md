# Writing JSON

## Converting Values

The set of basic implicit conversions from Scala types to `Json.Values` is provided.

For optional values None is converted into `Json.Undefined` and for
Some(x) the result be the same as the conversion of x to `Json`.


## Buliding Complex Objects

There are two ways to build complex objects. The `Json.make`
and `Json.array` methods could be used to construct objects and
arrays. The same entities may be created by using implicit
conversions from `Map[String, Json]` and `Seq[Json]`.


### Building Objects

The JSON objects could be created by explicitly calling `Json.make` or
by implicit conversion from `Map[String, Json]`.

The keys with the `Json.Undefined` values are ignored (not present in
the resulting object). 

```scala
val x = Json.make(
  "a" → 3, // implicit conversion int → 3
  "b" → Json.Null, // will be a null literal in the output
  "c" → JsonUndefined // "c" won't be present in the object
)
```

The most common use of `Json.Undefined` is a conditional generation:

```scala
val x = Json.make(
  "option" → (someOption match {
    case NotUsed ⇒ Json.Undefined
    case Optimize ⇒ "optimize"
    case Pessimize ⇒ "pessimize"
  })
)
```


### Building Arrays

Json arrays could be created by an explicit calls to `Json.array` or
by implicit conversion from `Seq[Json]` to `Json`.

The `Json.Undefined` items are excluded from the resulting array. 

```scala
val x = Json.array(1, Json.Null, 2, Json.Undefined, 3)
println(Json.toString(x)) // prints [1, null, 2, 3]
```

As with `Json.make`, the most common use of `Json.Undefined` is generation
of potentially optional values.


## Serializing JSON

A `Json` could be output into a `Writer` by a call to the `Json.writeTo` method.
Alternatively a string representation could be generated by a call to `Json.toString` method
(both an instance method or on the `Json` companion object).

Although an attempt to serialize `Json.Undefined` is syntactically valid, it will
end up in a `Json.Exception`
